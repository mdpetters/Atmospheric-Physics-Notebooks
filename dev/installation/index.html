<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Installation · Atmospheric Physics</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Atmospheric Physics</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../content/">Content</a></li><li class="is-active"><a class="tocitem" href>Installation</a><ul class="internal"><li><a class="tocitem" href="#Binder-1"><span>Binder</span></a></li><li><a class="tocitem" href="#Pre-built-Docker-1"><span>Pre-built Docker</span></a></li><li><a class="tocitem" href="#Self-built-Docker-1"><span>Self-built Docker</span></a></li><li><a class="tocitem" href="#Jupyterhub-with-Kubernetes-1"><span>Jupyterhub with Kubernetes</span></a></li><li><a class="tocitem" href="#Local-Installation-1"><span>Local Installation</span></a></li></ul></li><li><a class="tocitem" href="../instructors/">For Instructors</a></li><li><a class="tocitem" href="../license/">License</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Installation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Installation</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/mdpetters/Atmospheric-Physics-Notebooks/blob/master/docs/src/installation.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><p>There are several ways to run the notebooks (see more below). Whichever method is selected, the notebooks must be loaded and executed using Jupyter. Use the Jupyter file-manager to navigate to a notebook. For example, the directory <code>/notebooks/Module 1 - Aerosol Dynamics</code> as shown below.</p><p><img src="../figures/Desktop.png" alt="alt text"/></p><p>Start the notebook <code>Module 1 - Aerosol Dynamics.ipynb</code> and &quot;Run All Below&quot;. Make sure to <strong>wait</strong> until the kernel is initialized before running the cells. </p><p><img src="../figures/Cells.png" alt="alt text"/></p><p>Execution of the notebook takes between 20 and 40 seconds. Once a cell has been processed a number appears in parenthesis, e.g. <code>In[1]</code></p><p><img src="../figures/Example.png" alt="alt text"/></p><p>The notebook is now ready. You can interact with the graphs using the widgets provided with each element. It is not necessary to execute the cells again. However, the notebook is a complete programming environment and can be used as such. Indivual cells can be executed using CTRL-ENTER.</p><h2 id="Binder-1"><a class="docs-heading-anchor" href="#Binder-1">Binder</a><a class="docs-heading-anchor-permalink" href="#Binder-1" title="Permalink"></a></h2><p>Binder is free cloud-based service that hosts a docker image (see below) of the notebooks. Click the binder link to try it.</p><p><a href="https://mybinder.org/v2/gh/mdpetters/Atmospheric-Physics-Notebooks.git/v0.1"><img src="https://mybinder.org/badge_logo.svg" alt="Binder"/></a></p><table><tr><th style="text-align: right">Advantages</th><th style="text-align: right">Disadvantages</th></tr><tr><td style="text-align: right">Requires no installation</td><td style="text-align: right">Service may not be 100% reliable</td></tr><tr><td style="text-align: right">Service is free</td><td style="text-align: right">Service is not scalable for large classes</td></tr><tr><td style="text-align: right">Can be used on any device with a browser</td><td style="text-align: right">Container is destroyed after ~10 min of inactivity</td></tr><tr><td style="text-align: right">Precompiled for fast execution</td><td style="text-align: right">Requires (fast) internet connection</td></tr><tr><td style="text-align: right">Rquires no julia knowledge</td><td style="text-align: right">Changes are lost after the session</td></tr><tr><td style="text-align: right"></td><td style="text-align: right">Environment may change without notice</td></tr></table><h2 id="Pre-built-Docker-1"><a class="docs-heading-anchor" href="#Pre-built-Docker-1">Pre-built Docker</a><a class="docs-heading-anchor-permalink" href="#Pre-built-Docker-1" title="Permalink"></a></h2><p>A pre-built docker image is available from docker-hub. The docker container can be executed on local hardware using the docker engine. Docker is available free of charge for Windows, Mac OS, and Linux <a href="https://docs.docker.com/install/">Docker Download</a>. Once downloaded the notebooks can be executed using the command</p><pre><code class="language-none">docker run -it -p 8888:8888 mdpetters/atmospheric-physics-notebooks:current</code></pre><table><tr><th style="text-align: right">Advantages</th><th style="text-align: right">Disadvantages</th></tr><tr><td style="text-align: right">Requires only docker engine installation</td><td style="text-align: right">Does not work on mobile devices</td></tr><tr><td style="text-align: right">Can use own hardware</td><td style="text-align: right">Changes are lost after the session</td></tr><tr><td style="text-align: right">Does not require internet to run</td><td style="text-align: right">Pre-built image may change without notice</td></tr><tr><td style="text-align: right">Once downloaded you &#39;own&#39; the softare forever</td><td style="text-align: right">Requires large download</td></tr><tr><td style="text-align: right">Precompiled for fast execution</td><td style="text-align: right"></td></tr><tr><td style="text-align: right">Independent of OS</td><td style="text-align: right"></td></tr><tr><td style="text-align: right">Rquires no julia knowledge</td><td style="text-align: right"></td></tr></table><h2 id="Self-built-Docker-1"><a class="docs-heading-anchor" href="#Self-built-Docker-1">Self-built Docker</a><a class="docs-heading-anchor-permalink" href="#Self-built-Docker-1" title="Permalink"></a></h2><p>The docker container can be built locally. The repository follows the <a href="https://repo2docker.readthedocs.io/en/latest/specification.html">reproducible build specifications</a>. It is generated using <a href="https://repo2docker.readthedocs.io/en/latest/">repo2docker</a>.</p><pre><code class="language-none">repo2docker --user-name=jovyan --no-run --image-name=NAME:TAG https://github.com/mdpetters/Atmospheric-Physics-Notebooks.git</code></pre><table><tr><th style="text-align: right">Advantages</th><th style="text-align: right">Disadvantages</th></tr><tr><td style="text-align: right">Can use own hardware</td><td style="text-align: right">Changes are lost after the session</td></tr><tr><td style="text-align: right">Does not require internet to run</td><td style="text-align: right">Requires docker engine installation and other dependencies</td></tr><tr><td style="text-align: right">Can tweak Dockerfile configuration</td><td style="text-align: right">Takes significant time to compile</td></tr><tr><td style="text-align: right">Once generated you own the image</td><td style="text-align: right">Does not work on mobile devices</td></tr><tr><td style="text-align: right">Host your own image on Dockerhub or Jupyterhub</td><td style="text-align: right"></td></tr><tr><td style="text-align: right">Precompiled for fast execution</td><td style="text-align: right"></td></tr><tr><td style="text-align: right">Independent of OS</td><td style="text-align: right"></td></tr><tr><td style="text-align: right">Rquires no julia knowledge</td><td style="text-align: right"></td></tr></table><h2 id="Jupyterhub-with-Kubernetes-1"><a class="docs-heading-anchor" href="#Jupyterhub-with-Kubernetes-1">Jupyterhub with Kubernetes</a><a class="docs-heading-anchor-permalink" href="#Jupyterhub-with-Kubernetes-1" title="Permalink"></a></h2><p>The pre-built or self-built docker container can be served to a large group using <a href="https://zero-to-jupyterhub.readthedocs.io/en/latest/index.html">jupyter-hub</a> with Kubernetes. The Kubernetes cluster requires a cloud-computing provider. Running the Kubernetes engine for students to access the content 24/7 costs ~$30/user and semester.</p><table><tr><th style="text-align: right">Advantages</th><th style="text-align: right">Disadvantages</th></tr><tr><td style="text-align: right">Requires no installation for students</td><td style="text-align: right">Requires setup by instructor</td></tr><tr><td style="text-align: right">Scalable for large classes</td><td style="text-align: right">Cloud resources are expensive</td></tr><tr><td style="text-align: right">Can be used on any device with a browser</td><td style="text-align: right">Requires (fast) internet connection</td></tr><tr><td style="text-align: right">Cloud service has near 100% realiability</td><td style="text-align: right">Changes are lost after the session</td></tr><tr><td style="text-align: right">Independent of OS</td><td style="text-align: right"></td></tr><tr><td style="text-align: right">Rquires no julia knowledge</td><td style="text-align: right"></td></tr></table><h2 id="Local-Installation-1"><a class="docs-heading-anchor" href="#Local-Installation-1">Local Installation</a><a class="docs-heading-anchor-permalink" href="#Local-Installation-1" title="Permalink"></a></h2><p>The notebooks can also be executed locally as described in local installation. Local installation is needed for development of new content or changes of existing content. </p><table><tr><th style="text-align: right">Advantages</th><th style="text-align: right">Disadvantages</th></tr><tr><td style="text-align: right">Make persistent changes to content</td><td style="text-align: right">Requires management of dependencies</td></tr><tr><td style="text-align: right">Runs on local hardware</td><td style="text-align: right">Probably requires linux, not tested on MacOS or Win</td></tr><tr><td style="text-align: right">Full control over all content</td><td style="text-align: right">Requires knowledge of the julia language</td></tr></table><p>Install the latest release of julia from <a href="https://julialang.org/downloads/">https://julialang.org/downloads/</a>. </p><p>Once installed start the julia REPL (Read-Eval-Print-Loop)</p><pre><code class="language-none">              _
   _       _ _(_)_     |  Documentation: https://docs.julialang.org
  (_)     | (_) (_)    |
   _ _   _| |_  __ _   |  Type &quot;?&quot; for help, &quot;]?&quot; for Pkg help.
  | | | | | | |/ _` |  |
  | | |_| | | | (_| |  |  Version 1.3.0 (2019-11-26)
 _/ |\__&#39;_|_|_|\__&#39;_|  |  Official https://julialang.org/ release
|__/                   |

julia&gt;</code></pre><p>At the prompt type </p><pre><code class="language-none">julia&gt; ]</code></pre><p>to start the package manager. Then, add the following julia packages:</p><pre><code class="language-julia">pkg&gt; add CSV Colors Compose Conda Contour DataFrames DifferentialEquations Distributions Documenter Gadfly IJulia Interact Interpolations LsqFit NumericIO ParameterizedFunctions Pkg PyCall Roots SpecialFunctions WebIO</code></pre><p>Next, install the Jupyter notebook server</p><pre><code class="language-julia">julia&gt; using IJulia
julia&gt; notebook()</code></pre><p>Next, exit the notbook and exit out of the julia REPL session. Restart the REPL and install the WebIO Jupyter extension:</p><pre><code class="language-julia">julia&gt; using WebIO
julia&gt; WebIO.install_jupyter_nbextension()</code></pre><p>Finally, download the ZIP&#39;ed notebooks from GitHub: <a href="https://github.com/mdpetters/Atmospheric-Physics-Notebooks">Atmospheric-Physics-Notebooks</a></p><p><img src="../figures/notebook_zip.png" alt="alt text"/></p><p>Extract the ZIP file to location of your choice (e.g. <code>Documents</code>). Next restart <code>julia</code> and perform the following additional installations. This step only needs to be performed once.</p><pre><code class="language-julia">julia&gt; cd(&quot;Path/To/Atmospheric-Physics-Notebooks&quot;)
julia&gt; ]
pkg&gt; dev deps/AtmosphericThermodynamics/</code></pre><p>Finally, start the notebook server:</p><pre><code class="language-julia">julia&gt; using IJulia
julia&gt; notebook()</code></pre><p>Navigate to the extracted folder and open any of the notebooks, i.e. files with with the <code>.ipynb</code> extension.</p><p>External dependencies (e.g. pyrcel) <a href="https://pyrcel.readthedocs.io/en/latest/install.html">pyrcel model</a> must be installed manually. See the <a href="https://github.com/mdpetters/Atmospheric-Physics-Notebooks/blob/master/Dockerfile">Dockerfile</a> and/or external package documentation for how this is achieved. </p><p>During the first execution of the notebook julia compiles some code. Time of first execution is ~2-5 min. The notebook is now ready. The second execution of the cell is fast. However, the load time is long every time a new session is started. This circumvented in the docker container because a compiled julia system image is built using <a href="https://github.com/TsurHerman/Fezzik">Fezzik.jl</a>. See the <a href="https://github.com/mdpetters/Atmospheric-Physics-Notebooks/blob/master/Dockerfile">Dockerfile</a> for how this is achieved. </p><p>Note that the widget state can become corrupted during execution. It is good policy to run &quot;Restart Kernel &amp; Clear All Output&quot; before closing and ``saving the notebook.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../content/">« Content</a><a class="docs-footer-nextpage" href="../instructors/">For Instructors »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 30 December 2019 15:27">Monday 30 December 2019</span>. Using Julia version 1.3.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
